[tox]
envlist = 
    check,
    py27,
    py34,
    py35,
    doctest

[testenv]
usedevelop = True
deps =
    bs4
    coverage
    lxml
    pdbpp
    pytest
    pytest-cov
    pytest-mock>=1.5.0
    rpdb

commands =
    py.test -vv -x {posargs} --cov=yawrap --cov-append --cov-report=term-missing

[testenv:check]
deps =
    docutils
    flake8
    check-manifest
    coverage
commands =
    check-manifest
    python setup.py check --strict --metadata --restructuredtext
    flake8 yawrap tests
    coverage erase

[testenv:doctest]
deps =
    bs4
    sphinx
    lxml
changedir=docs
whitelist_externals =
    make
commands=
    make doctest
